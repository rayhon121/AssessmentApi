{"version":3,"file":"js/728.13899e14.js","mappings":"yMACOA,MAAM,iB,WAUN,iB,GAIHC,EAAAA,EAAAA,GAAmC,MAA/BD,MAAM,aAAY,YAAQ,G,iJAdhCE,EAAAA,EAAAA,IAgBM,MAhBN,EAgBM,EAfJC,EAAAA,EAAAA,IAYUC,EAAA,CAZDC,IAAI,QAAM,C,kBACjB,IAIE,EAJFF,EAAAA,EAAAA,IAIEG,EAAA,CAHAC,MAAM,O,WACGC,EAAAA,Y,qCAAAA,EAAAA,YAAWC,GACnBC,MAAK,CAAGC,GAAUA,GAASA,EAAMC,OAAM,yBAH1C,gCAKAT,EAAAA,EAAAA,IAKYU,EAAA,CAJVb,MAAM,OACLc,QAAK,eAAEC,EAAAA,eAFV,C,kBAGC,IAED,M,cAXF,KAaAC,GACAb,EAAAA,EAAAA,IAAkCc,EAAA,CAAlBC,MAAOV,EAAAA,UAAQ,mB,aAQnC,GACEW,QACE,MAAMC,GAAQC,EAAAA,EAAAA,IAAO,UACfC,GAAQC,EAAAA,EAAAA,MACRC,GAASH,EAAAA,EAAAA,IAAO,aACtB,MAAO,CACLD,QACAE,QACAE,SAEH,EACDC,OACE,MAAO,CACLC,YAAa,GACbC,SAAU,GAEb,EACDC,gBACEC,KAAKC,YACN,EACDC,QAAS,CACPH,mBACE,IAAIN,EAAQO,KAAKP,MACbU,EAAOH,KACNA,KAAKI,MAAMC,KAAKC,kBAGfN,KAAKT,MAAMgB,KAAM,GAAEP,KAAKL,OAAOa,yBAA0B,CAC3DC,KAAMT,KAAKH,cAEda,MAAK,WACJjB,EAAMkB,OAAO,sBAAuB,CAAEC,WAAW,EAAMC,QAAS,kCAAmCC,WAAW,IAC9GX,EAAKY,cACLZ,EAAKF,YACN,IACAe,OAAM,SAAUC,GACfxB,EAAMkB,OAAO,sBAAuB,CAAEC,WAAW,EAAOC,QAASI,EAAOH,WAAW,GACpF,GACF,EACDf,mBACE,IAAII,EAAOH,WACLA,KAAKT,MAAM2B,IAAK,GAAElB,KAAKL,OAAOa,0BACjCE,MAAK,SAASS,GACbhB,EAAKL,SAAWqB,EAASvB,KAAKwB,KAAIC,IAAM,CACpCC,GAAID,EAAQC,GACZb,KAAMY,EAAQZ,QAEnB,IACAO,OAAM,SAAUC,GACbd,EAAKV,MAAMkB,OAAO,sBAAuB,CAAEC,WAAW,EAAOC,QAASI,EAAOH,WAAW,GAC3F,GACJ,EACDC,cACEf,KAAKI,MAAMC,KAAKkB,QAChBC,YAAW,KACTxB,KAAKI,MAAMC,KAAKoB,iBAAhB,GACC,EACL,I,QC5EJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://assessment_test_app/./src/pages/colleges-page.vue","webpack://assessment_test_app/./src/pages/colleges-page.vue?300b"],"sourcesContent":["<template>\r\n  <div class=\"standard-form\">\r\n    <va-form ref=\"form\">\r\n      <va-input\r\n        label=\"Name\"\r\n        v-model=\"collegeName\"\r\n        :rules=\"[value => (value && value.length > 0) || 'Field is required']\"\r\n      />\r\n      <va-button\r\n        class=\"mb-3\"\r\n        @click=\"addCollege()\"\r\n      >\r\n        Add college\r\n      </va-button>\r\n    </va-form>    \r\n    <h4 class=\"display-4\">Colleges</h4>\r\n    <va-data-table :items=\"colleges\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { inject } from 'vue'\r\nimport { useStore } from 'vuex';\r\n\r\nexport default {\r\n  setup() {\r\n    const axios = inject('$axios');\r\n    const store = useStore();\r\n    const config = inject('appConfig');\r\n    return {\r\n      axios,\r\n      store,\r\n      config\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      collegeName: '',\r\n      colleges: []\r\n    }\r\n  },\r\n  async created() {\r\n    this.reloadData();\r\n  },\r\n  methods: {\r\n    async addCollege() {\r\n      let store = this.store;\r\n      let self = this;\r\n      if (!this.$refs.form.validate())\r\n        return;\r\n\r\n      await this.axios.post(`${this.config.apiUrl}/api/v1/colleges`, {\r\n          name: this.collegeName\r\n      })\r\n      .then(function() {              \r\n        store.commit('updateNavBarMessage', { isSuccess: true, message: \"Successfully added the college.\", isVisible: true }); \r\n        self.clearFields();\r\n        self.reloadData();\r\n      })     \r\n      .catch(function (error) {           \r\n        store.commit('updateNavBarMessage', { isSuccess: false, message: error, isVisible: true }); \r\n      });\r\n    },\r\n    async reloadData() {\r\n      let self = this;\r\n      await this.axios.get(`${this.config.apiUrl}/api/v1/colleges`)\r\n        .then(function(response){\r\n          self.colleges = response.data.map(college => ({ \r\n              id: college.id,\r\n              name: college.name\r\n            }));\r\n        })\r\n        .catch(function (error) {\r\n            self.store.commit('updateNavBarMessage', { isSuccess: false, message: error, isVisible: true }); \r\n        });\r\n    },\r\n    clearFields() {\r\n      this.$refs.form.reset()\r\n      setTimeout(() => {\r\n        this.$refs.form.resetValidation()\r\n      }, 1); \r\n    }\r\n  },\r\n}\r\n</script>","import { render } from \"./colleges-page.vue?vue&type=template&id=4ebc4403\"\nimport script from \"./colleges-page.vue?vue&type=script&lang=js\"\nexport * from \"./colleges-page.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"G:\\\\projects\\\\github\\\\ruby\\\\assessmentApi\\\\spa\\\\assessment_test_app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_va_form","ref","_component_va_input","label","$data","$event","rules","value","length","_component_va_button","onClick","$options","_hoisted_3","_component_va_data_table","items","setup","axios","inject","store","useStore","config","data","collegeName","colleges","async","this","reloadData","methods","self","$refs","form","validate","post","apiUrl","name","then","commit","isSuccess","message","isVisible","clearFields","catch","error","get","response","map","college","id","reset","setTimeout","resetValidation","__exports__","render"],"sourceRoot":""}